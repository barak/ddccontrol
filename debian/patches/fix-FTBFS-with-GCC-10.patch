Description: fix FTBFS with GCC 10
Origin: https://github.com/ddccontrol/ddccontrol/pull/80.patch
Bug: https://github.com/ddccontrol/ddccontrol/issues/74
Bug: https://github.com/ddccontrol/ddccontrol/issues/80
Bug-Debian: https://bugs.debian.org/957127
From: mazepone <mazepone@mailinator.com>
Date: Tue, 12 May 2020 17:19:40 -0500
Subject: [PATCH 1/2] gddccontrol/main.c: declare globals

---
 src/gddccontrol/main.c | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

diff --git a/src/gddccontrol/main.c b/src/gddccontrol/main.c
index b9a8ce1..c431571 100644
--- a/src/gddccontrol/main.c
+++ b/src/gddccontrol/main.c
@@ -45,6 +45,21 @@ GtkWidget* choice_hbox = NULL;
 GtkWidget* profile_hbox = NULL;
 GtkWidget* bottom_hbox = NULL;
 
+GtkWidget* main_app_window = NULL;
+
+GtkWidget* monitor_manager = NULL;
+GtkWidget* profile_manager = NULL;
+
+GtkWidget* profile_manager_button = NULL;
+GtkWidget* saveprofile_button = NULL;
+GtkWidget* cancelprofile_button = NULL;
+GtkWidget* refresh_controls_button = NULL;
+
+struct monitor* mon;
+
+int current_monitor; /* current monitor */
+int num_monitor; /* total number of monitors */
+
 struct monitorlist* monlist;
 
 GtkTooltips *tooltips;

From 5e23ae2fe55917c1f1bf48103f7bc3fb1ba732e1 Mon Sep 17 00:00:00 2001
From: mazepone <mazepone@mailinator.com>
Date: Tue, 12 May 2020 17:21:46 -0500
Subject: [PATCH 2/2] gddccontrol/notebook.h: declare globals extern

---
 src/gddccontrol/notebook.h | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

diff --git a/src/gddccontrol/notebook.h b/src/gddccontrol/notebook.h
index 0f0ee9d..a23d772 100644
--- a/src/gddccontrol/notebook.h
+++ b/src/gddccontrol/notebook.h
@@ -43,12 +43,12 @@
 #endif
 
 /* globals */
-struct monitor* mon;
+extern struct monitor* mon;
 
-GtkWidget* main_app_window;
+extern GtkWidget* main_app_window;
 
-GtkWidget* monitor_manager;
-GtkWidget* profile_manager;
+extern GtkWidget* monitor_manager;
+extern GtkWidget* profile_manager;
 
 /* notebook.c */
 
@@ -91,13 +91,13 @@ void set_message_ok(char* message, int with_ok);
 
 GtkWidget *stock_label_button(const gchar * stockid, const gchar *label_text, const gchar *tool_tip);
 
-GtkWidget* profile_manager_button;
-GtkWidget* saveprofile_button;
-GtkWidget* cancelprofile_button;
-GtkWidget* refresh_controls_button;
+extern GtkWidget* profile_manager_button;
+extern GtkWidget* saveprofile_button;
+extern GtkWidget* cancelprofile_button;
+extern GtkWidget* refresh_controls_button;
 
 /* Multimonitor support */
-int current_monitor; /* current monitor */
-int num_monitor; /* total number of monitors */
+extern int current_monitor; /* current monitor */
+extern int num_monitor; /* total number of monitors */
 
 #endif //NOTEBOOK_H
